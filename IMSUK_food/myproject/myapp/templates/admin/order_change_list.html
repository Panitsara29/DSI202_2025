{% extends "admin/change_list.html" %}
{% load static %}

{% block extrahead %}
    {{ block.super }}

    <!-- ✅ Toastify CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

    <!-- ✅ Toastify JS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <!-- ✅ JavaScript สำหรับ Toast แจ้งเตือน -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const pendingCount = parseInt("{{ pending_count }}");
            if (pendingCount > 0) {
                Toastify({
                    text: "มีสลิปใหม่รอตรวจสอบ <span style='color: #fff;'>{{ pending_count }} รายการ</span>",
                    duration: 5000,
                    gravity: "top",
                    position: "right",
                    backgroundColor: "#ec4899",  
                    stopOnFocus: true,
                    close: true,
                    escapeMarkup: false,
                }).showToast();
            }
        });
    </script>
{% endblock %}
